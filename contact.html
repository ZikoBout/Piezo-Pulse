<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact Us | Piezo Pulse</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="icon" type="image/png"  href="logo.png">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar" id="navbar">
    <a href="index.html" class="navbar-brand">
      <img src="logo.png" alt="Piezo Pulse Logo" class="navbar-logo">
      <span class="navbar-brand-name">Piezo-Pulse</span>
    </a>
    <div class="nav-links" id="navLinks">
      <a href="index.html">Home</a>
      <a href="about.html">Technology</a>
      <a href="team.html">Our Team</a>
      <a href="contact.html">Contact</a>
      <button class="nav-button" onclick="location.href='dashboard.html'">Start</button>
    </div>
    <div class="menu-toggle" id="menuToggle">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M3 12h18M3 6h18M3 18h18"></path>
      </svg>
    </div>
  </nav>

  <!-- Contact Form Section -->
  <section class="contact-section">
    <div class="contact-container">
      <div class="contact-header">
        <h1>Get In Touch</h1>
        <p>Have questions about our technology? Reach out and we'll respond within 24 hours.</p>
      </div>
      
      <form class="contact-form" id="contactForm">
        <div class="form-row">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input type="text" id="firstName" name="firstName" required>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input type="text" id="lastName" name="lastName" required>
          </div>
        </div>
        
        <div class="form-group" >
          <label for="email">Email Address</label>
          <input type="email" id="email" name="email" required>
        </div>
        
        <div class="form-group">
          <label for="company">Company Name</label>
          <input type="text" id="company" name="company">
        </div>
        
        <div class="form-group">
            <label for="subject">Subject</label>
            <select id="subject" name="subject" required>
              <option value="" disabled selected style="color: rgba(255,255,255,0.5)">Select a subject</option>
              <option value="partnership">Partnership Inquiry</option>
              <option value="technical">Technical Question</option>
              <option value="media">Media Request</option>
              <option value="other">Other</option>
            </select>
          </div>
        
        <div class="form-group">
          <label for="message">Your Message</label>
          <textarea id="message" name="message" rows="5" required></textarea>
        </div>
        
        <button type="submit" class="submit-btn">
          <span>Send Message</span>
          <i class="fas fa-paper-plane"></i>
        </button>
      </form>
    </div>
  </section>

  <!-- Footer -->
  <footer class="site-footer">
    <!-- Your existing footer code here -->
  </footer>

  <script>
    // Navigation script same as other pages
    window.addEventListener('scroll', function() {
      const navbar = document.getElementById('navbar');
      if (window.scrollY > 50) {
        navbar.classList.add('scrolled');
      } else {
        navbar.classList.remove('scrolled');
      }
    });

    const menuToggle = document.getElementById('menuToggle');
    const navLinks = document.getElementById('navLinks');
    if (menuToggle && navLinks) {
      menuToggle.addEventListener('click', function() {
        navLinks.classList.toggle('active');
      });
    }

    document.addEventListener('DOMContentLoaded', function() {
  // Amélioration du select
  const select = document.getElementById('subject');
  if (select) {
    select.addEventListener('change', function() {
      if (this.value !== "") {
        this.style.color = 'white';
      } else {
        this.style.color = 'rgba(255,255,255,0.5)';
      }
    });
    
    // Initialisation
    if (select.value === "") {
      select.style.color = 'rgba(255,255,255,0.5)';
    } else {
      select.style.color = 'white';
    }
  }

  // Animation des labels au focus
  const inputs = document.querySelectorAll('.form-group input, .form-group textarea, .form-group select');
  inputs.forEach(input => {
    input.addEventListener('focus', function() {
      this.parentElement.querySelector('label').style.color = '#00ffcc';
    });
    input.addEventListener('blur', function() {
      this.parentElement.querySelector('label').style.color = '#00d4ff';
    });
  });
});
    
  </script>

  <!-- Chatbot Widget -->
<div class="chatbot-container">
  <div class="chatbot-icon" id="chatbotIcon">
    <i class="fas fa-robot"></i>
  </div>
  <div class="chatbot-window" id="chatbotWindow">
    <div class="chatbot-header">
      <h3>Piezo Pulse Assistant</h3>
      <button class="close-chatbot" id="closeChatbot">×</button>
    </div>
    <div class="chatbot-messages" id="chatbotMessages">
      <div class="bot-message">Hello! I'm here to help. Ask me about our technology, team, or project.</div>
    </div>
    <div class="chatbot-input">
      <input type="text" id="userInput" placeholder="Type your question...">
      <button id="sendMessage"><i class="fas fa-paper-plane"></i></button>
    </div>
  </div>
</div>

<script>
  // Chatbot Functionality
  document.addEventListener('DOMContentLoaded', function() {
    const chatbotIcon = document.getElementById('chatbotIcon');
    const chatbotWindow = document.getElementById('chatbotWindow');
    const closeChatbot = document.getElementById('closeChatbot');
    const userInput = document.getElementById('userInput');
    const sendMessage = document.getElementById('sendMessage');
    const chatbotMessages = document.getElementById('chatbotMessages');

    // Toggle chatbot window
    chatbotIcon.addEventListener('click', function() {
      chatbotWindow.style.display = chatbotWindow.style.display === 'flex' ? 'none' : 'flex';
    });

    closeChatbot.addEventListener('click', function() {
      chatbotWindow.style.display = 'none';
    });

    // Send message function
    function sendUserMessage() {
      const message = userInput.value.trim();
      if (message) {
        // Add user message
        const userMsg = document.createElement('div');
        userMsg.className = 'user-message';
        userMsg.textContent = message;
        chatbotMessages.appendChild(userMsg);
        
        // Process and add bot response
        setTimeout(() => {
          const botResponse = getBotResponse(message);
          const botMsg = document.createElement('div');
          botMsg.className = 'bot-message';
          botMsg.textContent = botResponse;
          chatbotMessages.appendChild(botMsg);
          chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }, 500);
        
        userInput.value = '';
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }
    }

    // Send message on button click or Enter key
    sendMessage.addEventListener('click', sendUserMessage);
    userInput.addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        sendUserMessage();
      }
    });

   // Simple response logic
function getBotResponse(message) {
  const lowerMsg = message.toLowerCase().trim();
  
  // Greetings
  if (/^(hi|hello|bonjour|salut|hey|مرحبا|السلام عليكم)/.test(lowerMsg)) {
    return "Hello! Welcome to Piezo Pulse. How can I help you today? You can ask about:\n- Our technology\n- Our team members\n- The project";
  } 
  // Thanks
  else if (/(thanks|thank you|merci|شكرا)/.test(lowerMsg)) {
    return "You're welcome! Is there anything else I can help you with?";
  }
  // Team members
  else if (lowerMsg.includes('zakaria') || lowerMsg.includes('boutoumat')) {
    return "Zakaria Boutoumat - Software Developer\n" +
           "Expertise: IoT, Embedded Systems, Energy Optimization\n" +
           "Social Links:\n" +
           "- LinkedIn: https://www.linkedin.com/in/zakaria-boutoumat-763a7a225/\n" +
           "- GitHub: https://github.com/zakariab\n" +
           "Zakaria developed the core algorithms that optimize our piezoelectric energy conversion.";
  }
  else if (lowerMsg.includes('asmae') || lowerMsg.includes('ait lahcen')) {
    return "Asmae Ait Lahcen - Hardware Specialist\n" +
           "Expertise: Piezoelectric Materials, Circuit Design\n" +
           "Social Links:\n" +
           "- LinkedIn: https://www.linkedin.com/in/asmae-aitlahcen\n" +
           "- ResearchGate: https://www.researchgate.net/profile/Asmae-Aitlahcen\n" +
           "Asmae holds 3 patents in piezoelectric device design.";
  }
  else if (lowerMsg.includes('youness') || lowerMsg.includes('marzouk')) {
    return "Youness Marzouk - UI/UX Designer\n" +
           "Expertise: User Research, Data Visualization\n" +
           "Portfolio: https://www.behance.net/younessmarzouk\n" +
           "Youness creates intuitive interfaces for our monitoring systems.";
  }
  else if (lowerMsg.includes('rim') || lowerMsg.includes('el alaoui') || lowerMsg.includes('ismaili')) {
    return "Rim El Alaoui Ismaili - System Integration\n" +
           "Expertise: Cloud Architecture, API Development\n" +
           "Social Links:\n" +
           "- LinkedIn: https://www.linkedin.com/in/rimelalaoui\n" +
           "Rim ensures our technology works seamlessly with city infrastructure.";
  }
  else if (lowerMsg.includes('imad') || lowerMsg.includes('lebsim')) {
    return "Imad Lebsim - Energy Analyst\n" +
           "Expertise: Data Science, Energy Forecasting\n" +
           "Social Links:\n" +
           "- LinkedIn: https://www.linkedin.com/in/imadlebsim\n" +
           "Imad's algorithms optimize panel placement for maximum efficiency.";
  }
  else if (lowerMsg.includes('fatima') || lowerMsg.includes('osseili')) {
    return "Fatima Osseili - Project Manager\n" +
           "Expertise: Agile Methodology, Stakeholder Management\n" +
           "Social Links:\n" +
           "- LinkedIn: https://www.linkedin.com/in/fatimaosseili\n" +
           "Fatima coordinates our deployments across multiple cities.";
  }
  // Technology questions
  else if (/(technology|technologie|piezo|how it works|كيف تعمل)/.test(lowerMsg)) {
    return "Piezo-Pulse converts vehicle movement into clean energy using piezoelectric sensors in roads. Key features:\n" +
           "- 95% conversion efficiency\n" +
           - "Zero emissions\n" +
           - "Low maintenance\n" +
           "Our technology can power street lights and IoT devices.";
  } 
  // Team questions
  else if (/(team|équipe|who are you|staff|فريق)/.test(lowerMsg)) {
    return "Our team has 6 members:\n" +
           "1. Zakaria Boutoumat (Software)\n" +
           "2. Asmae Ait Lahcen (Hardware)\n" +
           "3. Youness Marzouk (Design)\n" +
           "4. Rim El Alaoui (Integration)\n" +
           "5. Imad Lebsim (Analysis)\n" +
           "6. Fatima Osseili (Management)\n" +
           "Ask about any member by name for details!";
  }
  // Contact questions
  else if (/(contact|email|phone|number|whatsapp|واتساب|رقم|contactez)/.test(lowerMsg)) {
    return "Contact options:\n" +
           "📱 WhatsApp: +212 706-009181\n" +
           "📧 Email: contact@piezo-pulse.com\n" +
           "🌐 Contact page: https://piezo-pulse.com/contact\n" +
           "📍 Address: École Polytechnique d'Agadir, Morocco";
  }
  // Default response
  else {
    return "I'm not sure I understand. You can ask about:\n" +
           "- Specific team members (Zakaria, Asmae, etc.)\n" +
           "- Our technology\n" +
           "- Contact information\n" +
           "For complex questions, please message us on WhatsApp at +212 706-009181";
  }
}
    
  });
</script>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-firestore-compat.js"></script>
<script>
  // Configuration Firebase (remplacez par vos valeurs)
  const firebaseConfig = {
    apiKey: "AIzaSyCZOEfxbFMud8p0zV53SHLbt0IlLGhRdH0`",
    authDomain: "piezo-pulse-contact.firebaseapp.com",
    projectId: "piezo-pulse-contact",
    storageBucket: "piezo-pulse-contact.firebasestorage.app",
    messagingSenderId: "441869052830",
    appId: "1:441869052830:web:b5e2b8a9e75d8ed577848f"
  };

  // Initialiser Firebase
  if (!firebase.apps.length) {
    firebase.initializeApp(firebaseConfig);
  }
  const db = firebase.firestore();

  // Gestion du formulaire
  document.addEventListener('DOMContentLoaded', function() {
    const contactForm = document.querySelector('.contact-form');
    const submitBtn = document.querySelector('.submit-btn');
    
    contactForm.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Désactiver le bouton pendant l'envoi
      submitBtn.disabled = true;
      const originalText = submitBtn.innerHTML;
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
      
      try {
        // Préparer les données du formulaire
        const formData = {
          firstName: contactForm.firstName.value.trim(),
          lastName: contactForm.lastName.value.trim(),
          email: contactForm.email.value.trim(),
          company: contactForm.company.value.trim(),
          subject: contactForm.subject.value,
          message: contactForm.message.value.trim(),
          timestamp: firebase.firestore.FieldValue.serverTimestamp(),
          status: 'new'
        };

        // Envoyer à Firestore
        await db.collection("contacts").add(formData);
        
        // Afficher un message de succès
        const successMsg = document.createElement('div');
        successMsg.className = 'form-success';
        successMsg.innerHTML = `
          <i class="fas fa-check-circle"></i>
          <span>Your message has been sent successfully!</span>
        `;
        contactForm.prepend(successMsg);
        
        // Réinitialiser le formulaire
        contactForm.reset();
        
        // Supprimer le message après 5 secondes
        setTimeout(() => successMsg.remove(), 5000);
      } catch (error) {
        console.error("Error sending message:", error);
        alert("An error occurred while sending your message. Please try again.");
      } finally {
        // Réactiver le bouton
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalText;
      }
    });
  });
</script>
  


</body>
</html>